; args: cur_neighbor, valuable_neighbor_list
; reduce should be started with empty rh cons-list

!def ld_el LD 0 0
!def ld_ac LD 0 1

#ld_el
CDR
CAR ; get value of neighbor

LDF @is_valuable
AP 1

TSEL $tasty $not_tasty
$tasty:
    #ld_el
    #ld_ac
    CONS
    RTN
$not_tasty:
    #ld_ac
    RTN
