; args: 2d_array (map), point
; return: dir

!def ld_map   LD 0 0
!def ld_point LD 0 1

#ld_map
#ld_point
LDF @get_neighbors
AP 2

LDF @neighbor_accum_valuable
LDC 0

LDF @reduce
AP 3

LDF @copy
AP 1

ATOM ; test for empty valuable neighs
TSEL $empty $some
$empty:
    ; get neighbors of neighbors
    ; in particular direction
    LDC 0
    RTN
$some:
    CAR
    CDR
    CDR
    RTN
