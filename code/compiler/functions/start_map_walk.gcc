; args: 2d_array (map), point
; return: dir

!def ld_map        LD 0 0
!def ld_point      LD 0 1

#ld_map ; map for map_walk

#ld_map
#ld_point
LDC 0 ; local variable
LDF @get_neighbors
AP 3 ; neighs for map_walk

#cons_unpack

; making last wave list
#ld_point
LDC -1 ;making fake value, direction
LDC -1
CONS
CONS
LDC 0
CONS

LDC 0 ; for local variable
LDF @map_walk
AP 5

RTN
