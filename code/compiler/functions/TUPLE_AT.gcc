; tuple might not have zero as the last value, structure with last 0 is list
; args: tuple, index
; return: tuple[index]

BRK
LD 0 1

TSEL $NEXT $RTN ; index != 0
    LD 0 0 ; $NEXT
    CDR
    LD 0 1
    LDC 1
    SUB
    LDF TUPLE_AT
    TAP 2

    LD 0 0 ; $RTN
    ATOM
    TSEL $RET_VAL $RET_CAR
        LD 0 0 ; $RET_VAL
        RTN

        LD 0 0 ; $RET_CAR
        CAR
        RTN