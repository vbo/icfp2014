; tuple might not have zero as the last value, structure with last 0 is list
; args: tuple, index
; return: tuple[index]

BRK
LD 0 1

TSEL $next $RTN ; index != 0
$next:
    LD 0 0
    CDR
    LD 0 1
    #dec
    LDF @tuple_at
    TAP 2
$rtn:
    LD 0 0
    ATOM
    TSEL $ret_val $ret_car
$ret_val:
    LD 0 0
    RTN
$ret_car:
    LD 0 0
    CAR
    RTN