; tuple might not have zero as the last value, structure with last 0 is list
; args: tuple, index, size
; return: tuple[index]

LD 0 1 ; will be used later
LD 0 1

TSEL $NEXT $RTN ; index != 0
    LD 0 0 ; $NEXT
    CDR
    LD 0 1
    LDC 1
    SUB
    LDF LIST_VAL_AT
    TAP 2

    LD 0 2 ; $RTN
    CEQ
    TSEL $CDR_RET $CAR_RET
        LD 0 0 ; $CDR_RET
        CDR
        RTN

        LD 0 0 ; $CAR_RET
        CAR
        CAR
        RTN