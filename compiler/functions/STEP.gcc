LD 0 1 ; world
LDC 1 ; player
LDC 1 ; coords
CONS
LDF MAP_AT
AP 2

LD 0 1 ; world
LDC 2 ; player
LDC 1 ; direction
CONS
LDF MAP_AT
AP 2

LD 0 1 ; world
LDC 1 ; player
LDC 1 ; coords
CONS
LDF MAP_AT
AP 2

LD 0 0 ; get last point

LDF POINTS_EQ
AP 2

TSEL $CHANGE_LOCATION $GO_ON

    LDF GET_NEXT_DIRECTION ; $CHANGE_LOCATION
    AP 1
    CONS
    RTN

    CONS ; $GO_ON
    RTN
